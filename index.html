<!DOCTYPE html>

<html>
    <head>
        <link rel="stylesheet" type="text/css" href="css/style.css?version=1">

        <script src="js/libs/jquery.min.js?version=1"></script>
        <script src="js/libs/seedrandom.min.js?version=1"></script>
        <script src="js/libs/handlebars.js?version=1"></script>
        <script src="js/libs/msg.min.js?version=1"></script>
        <script src="js/libs/separator.js?version=1"></script>

        <script src="js/main/base.js?version=1"></script>
        <script src="js/main/utils.js?version=1"></script>
        <script src="js/main/pieces.js?version=1"></script>
        <script src="js/main/grid.js?version=1"></script>
        <script src="js/main/keyboard.js?version=1"></script>
        <script src="js/main/local_storage.js?version=1"></script>
        <script src="js/main/options.js?version=1"></script>

        <script>
            $(function()
            {
                Tetris.init()
            })
        </script>
    </head>
    
    <body>
        <div id='background'></div>
        <div id='main'>
            <div id='main_container'>
                <div id="topbar">
                    <div id='score'>
                        <div id='score_text'>0</div>
                    </div>
                    <div id='info'>
                        <div id='level_text'>Level: 0</div>
                        <div id='combo_text'>Combo: 0</div>
                        <div id='pow_text'>POW: 0</div>
                    </div>
                    <div id='info2'>
                        <div id='seed_text'>Seed: None</div>
                        <div id='menu' class='action unselectable'>Menu</div>
                    </div>
                </div>
                <div id='game_container'>
                    <div id='game' width=800 height=600></div>
                    <div id='countdown' class='game_box'>3</div>
                    <div id='paused' class='game_box'>Paused</div>
                </div>
                <div id='sidebar'>
                    <div id='active_piece'>
                        <div id='active_piece_element'></div>
                        <div id='queued_left'></div>
                    </div>
                    <div id='previews'></div>
                </div>
                <div id='piece_picker'>
                    <div id='piece_picker_title'>Choose The Next Four</div>
                    <div id='piece_picker_wheel'> </div>
                </div>
            </div>
        </div>
        <div id='intro'>
            <img id='intro_image' src='img/intro.jpg'>
            <div id='intro_credits'>
                Tetris Â© 1985 Tetris Holding.<br>
                Tetris logos, Tetris theme song and Tetriminos are trademarks of Tetris Holding.<br>
                The Tetris trade dress is owned by Tetris Holding.<br>
                Licensed to The Tetris Company.<br>
                Tetris Game Design by Alexey Pajitnov.<br>
                Tetris Logo Design by Roger Dean.<br>
                All Rights Reserved.
            </div>
        </div>
        <audio preload id='music' src='audio/music.mp3?version=1'></audio>
        <audio preload id='sound_tone_1' src='audio/tone1.mp3?version=1'></audio>
        <audio preload id='sound_move' src='audio/move.mp3?version=1'></audio>
        <audio preload id='sound_countdown' src='audio/countdown.mp3?version=1'></audio>
        <audio preload id='sound_game_started' src='audio/game_started.mp3?version=1'></audio>
        <audio preload id='sound_placed' src='audio/placed.mp3?version=1'></audio>
        <audio preload id='sound_intro' src='audio/intro.mp3?version=1'></audio>
        <audio preload id='sound_rotate' src='audio/rotate.mp3?version=2'></audio>
        <audio preload id='sound_clear' src='audio/clear.mp3?version=2'></audio>
        <audio preload id='sound_game_over' src='audio/game_over.mp3?version=2'></audio>
        <audio preload id='sound_pow' src='audio/pow.mp3?version=2'></audio>
        <audio preload id='sound_locked' src='audio/locked.mp3?version=2'></audio>
    </body>

    <script id='template_menu' type='text/x-handlebars-template' class='template'>
        <div id='menu_container'>
            <div id='menu_restart' class='menu_item action'>Restart</div>
            <div id='menu_options' class='menu_item action'>Options</div>
            <div id='menu_help' class='menu_item action'>Help</div>
        </div>
    </script>

    <script id='template_options' type='text/x-handlebars-template' class='template'>
        <div id='options_container'>
            <div class='options_item'>
                <div class='options_label'>Ghost</div>
                <input type='checkbox' id='option_enable_ghost' class='options_widget options_checkbox' data-options-widget-type='checkbox'>
            </div>
            <div class='options_item'>
                <div class='options_label'>Music</div>
                <input type='checkbox' id='option_enable_music' class='options_widget options_checkbox' data-options-widget-type='checkbox'>
            </div>
            <div class='options_item'>
                <div class='options_label'>SFX</div>
                <input type='checkbox' id='option_enable_sound_effects' class='options_widget options_checkbox' data-options-widget-type='checkbox'>
            </div>
            <div class='options_item'>
                <div class='options_label'>Background</div>
                <input type='checkbox' id='option_enable_background_image' class='options_widget options_checkbox' data-options-widget-type='checkbox'>
            </div>
            <div class='options_item'>
                <div class='options_label'>Rows</div>
                <input type='number' min="10" id='option_number_of_rows' class='options_widget options_number' data-options-widget-type='number'>
            </div>
            <div class='options_item'>
                <div class='options_label'>Columns</div>
                <input type='number' min="10" id='option_number_of_columns' class='options_widget options_number' data-options-widget-type='number'>
            </div>
            <div class='options_item'>
                <div class='options_label'>Previews</div>
                <input type='number' min="0" id='option_number_of_previews' class='options_widget options_number' data-options-widget-type='number'>
            </div>
            <div class='options_item'>
                <div class='options_label'>Block Size</div>
                <input type='number' min="4" id='option_block_size' class='options_widget options_number' data-options-widget-type='number'>
            </div>
            <div class='options_item'>
                <div class='options_label'>Seed</div>
                <input type='text' id='option_seed' class='options_widget options_text' data-options-widget-type='text' placeholder="Empty == Random">
            </div>
            <div class='options_item'>
                <div id="options_reset_button" class='action'>Reset</div>
            </div>
        </div>
    </script>

    <script id='template_help' type='text/x-handlebars-template' class='template'>
        <div id='help_container'>
            <div class='help_item'>
                Up Arrow or C: Rotates the piece clockwise.
            </div>
            <div class='help_item'>
                Control or Z: Rotates the piece anti-clockwise.
            </div>
            <div class='help_item'>
                Left Arrow: Moves the piece to the left.
            </div>
            <div class='help_item'>
                Down Arrow: Moves the piece to the right.
            </div>
            <div class='help_item'>
                Down Arrow: Moves the piece down by 1 step (Soft Drop).
            </div>
            <div class='help_item'>
                Space: Drops the piece to the bottom instantly (Hard Drop).
            </div>
            <div class='help_item'>
                Escape: Pauses the game and opens the menu. Closes windows.
            </div>
            <div class='help_item'>
                F1: Pauses/unpauses the game.
            </div>
            <div class='help_item'>
                Enter: Activates POW on the current piece. When the piece is placed, it separates all piece blocks into their own block, causing them to fall.
            </div>
            <div class='help_item'>
                Clearing a line separates all blocks from the piece into their own block.
            </div>
            <div class='help_item'>
                Clearing more than 4 lines activates a piece picker to choose the next 4 pieces. This gets triggered on the next piece. Left and right arrows cycle through the pieces. The picker lasts for 3 seconds.
            </div>
            <div class='help_item'>
                Clearing all the lines spawns a big piece.
            </div>
            <div class='help_item'>
                Levels increase every 4 lines cleared. As levels increase, pieces fall faster, but scoring increases.
            </div>
            <div class='help_item'>
                POWs increase every 20 lines cleared.
            </div>
        </div>
    </script>

    <script id='template_game_over' type='text/x-handlebars-template' class='template'>
        <div id='game_over_container'>
            <div id='game_over_level' class='game_over_big'></div>
            <div id='game_over_score' class='game_over_big'></div>
            <div id='game_over_time' class='game_over_big'></div>
            <div id='game_over_lines_cleared' class='game_over_big'></div>
            <div id='game_over_max_combo' class='game_over_big'></div>
            <div id='game_over_pows_used' class='game_over_big'></div>
            <div id='game_over_buttons'>
                <div id='game_over_play_again' class='game_over_button action'>Play Again</div>
            </div>
        </div>
    </script>
</html>